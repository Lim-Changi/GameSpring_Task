<div class="card card-register mx-auto mt-5">
    <div class="card-header"></div>
    <div class="card-body">
        <form action="/user/signin" method="post">
            <div class="form-group">
                <label for="inputuserId">ID</label>
                <input required name="userId" class="form-control" id="inputuserId" type="id" placeholder="ID">
            </div>
            <div class="form-group">
                <div class="form-row">
                    <label for="exampleInputPassword">Password</label>
                    <input required name="password" class="form-control" id="exampleInputPassword" type="password"
                        placeholder="Password">
                </div>
            </div>
            <button type="submit" class="btn btn-primary btn-block">Sign in</button>
        </form>
    </div>
    <div class="card-body">
        <a class="btn btn-primary btn-block" href="/signup">Sign up</a>
    </div>
</div>

<body>
    <ul id="chatLog"></ul>
    <form action="" id="sendForm">
        <input name="message" autocomplete="off" /><button>전송</button>
    </form>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        var socket = io();

        socket.on('server message', function (data) {
            $('#chatLog').append('<li> ' + data.username + ' : ' + data.message + ' </li>');
        });

        socket.on('join', function (data) {
            $('#chatLog').append('<li> ' + data.username + '님이 방을 들어왔습니다 </li>');
        });

        socket.on('leave', function (data) {
            $('#chatLog').append('<li> ' + data.username + '님이 방을 나갔습니다 </li>');
        });

        $(document).ready(function () {
            $('#sendForm').submit(function () {
                var message = $('#sendForm input[name=message]');
                socket.emit('client message', { message: message.val() });
                message.val('');
                return false;
            });
        });
    </script>
</body>

</html>